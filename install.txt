download ubuntu server (https://ubuntu.com/download/server/thank-you?version=25.04&architecture=amd64)
prepare USB flash drive with BalenaEtcher (https://etcher.balena.io/)
install ubuntu minimal server, do not forget to configure network interfaces and install openssh.
once install is complete, reboot machine and confirm that you can ssh with your user account.
install docker engine (https://docs.docker.com/engine/install/ubuntu/)
configure docker to run from non-root user (https://docs.docker.com/engine/install/linux-postinstall/#manage-docker-as-a-non-root-user)
install homeassistant, configuration will be store localy in /apps/homeassistant/config folder
  sudo mkdir -p /apps/homeassistant/config; sudo chown -R $USER /apps/homeassistant/config; sudo chmod -R 0755 /apps/homeassistant/config
  docker run -d \
    --name homeassistant \
    --privileged \
    --restart=unless-stopped \
    -e TZ=America/Toronto \
    -v /apps/homeassistant/config:/config \
    -v /run/dbus:/run/dbus:ro \
    --network=host \
    --device /dev/ttyUSB0:/dev/ttyUSB0 \
    ghcr.io/home-assistant/home-assistant:stable
homeassistant is available on port 8123 on your ubuntu server

my configuration steps
## install postgress, data will be store localy in /apps/postgresql/data folder
sudo mkdir -p /apps/postgresql/data; sudo chown -R $USER /apps/postgresql/data; sudo chmod -R 0755 /apps/postgresql/data
docker run -d --name postgres -e POSTGRES_USER=dbuser -e POSTGRES_PASSWORD=mysecretpassword -e PGDATA=/var/lib/postgresql/data/pgdata -v /apps/postgresql/data:/var/lib/postgresql/data postgres
	set -e
	psql -v ON_ERROR_STOP=1 --username "$POSTGRES_USER" --dbname "$POSTGRES_DB" <<-EOSQL
		CREATE USER docker;
		CREATE DATABASE docker;
		GRANT ALL PRIVILEGES ON DATABASE docker TO docker;
	EOSQL
